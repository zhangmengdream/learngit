# -*- coding:utf-8 -*-
import re

from scrapy import cmdline
from redis import *
import sys
import os
import time
import datetime
import requests
from urllib import parse
from lxml import etree
# from settings import Mongo_settings, Redis_settings
from news.settings import Mongo_settings, Redis_settings

headers = {
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.125 Safari/537.36"
}

proxyHost = "http-dyn.abuyun.com"
proxyPort = "9020"

# 代理隧道验证信息
proxyUser = "H7J72K26U5Q67A8D"
proxyPass = "1E7AE72522B3251B"

proxyMeta = "http://%(user)s:%(pass)s@%(host)s:%(port)s" % {
    "host": proxyHost,
    "port": proxyPort,
    "user": proxyUser,
    "pass": proxyPass,
}

proxies = {
    "http": proxyMeta,
    "https": proxyMeta,
}

def proxies_get_url_except(url, headers=headers, status=[200], timeout=30):
    print(status)
    while True:
        try:
            res = requests.get(url, headers=headers, proxies=proxies, timeout=timeout)
            print(res.status_code)
            if res.status_code in status:
                return res
        except:
            print('重新get_url：{}'.format(url))



# 获取首页分支的链接
def get_one():
    print('get_one')
    url = 'https://www.eastmoney.com/'
    res = proxies_get_url_except(url, headers,status=[200,404])
    res = etree.HTML(res.text)
    urls = res.xpath('//*[@class="nav-view"]//a/@href')
    return urls


# 获取每个分支链接的二级分支链接
def get_two():

    urls = get_one()
    print('get_two',urls)
    list_urls_alls = set()

    for url in urls:
        res = proxies_get_url_except(url, headers,status=[200,404])
        res = etree.HTML(res.text)
        list_urls = res.xpath(
            '//*[@class="menu_wrap"]//a/@href|//*[@class="menu"]//a/@href|//*[@class="mainMenu"]//a/@href')
        if list_urls:
            list_urls = [parse.urljoin(url, l_url) for l_url in list_urls]
            list_urls_all = get_three(list_urls)
            list_urls_alls.update(list_urls_all)
    return list_urls_alls


# 分析每个二级链接，是否事列表链接，或者从“更多”中 获取列表链接
def get_three(urls):
    print('get_three',urls)
    list_urls_all = set()
    for url in urls:
        res = proxies_get_url_except(url, headers,status=[200,404])
        res = etree.HTML(res.text)
        list_urls = res.xpath('//*[@class="navbar navbar-default"]//a/@href')
        detail_url = res.xpath(
            '//a[@class="qa"]/@href|//ul[@id="newsListContent"]/li/a/@href|//div[@class="card_body"]/ul/li/a/@href|//ul[@id="newsListContent"]/li/div/p/a/@href|//div[@class="artlist"]/ul/li/a[2]/@href|//div[@class="infos"]/ul/li/a/@href')
        list_url_gd = res.xpath('//a[text()="更多"]/@href|//a[text()="更多>>"]/@href')

        if list_urls:
            for l__url in list_urls:
                list_urls_all.add(l__url)

        elif detail_url:
            list_urls_all.add(url)

        elif list_url_gd:
            for gd__url in list_url_gd:
                gd__url = parse.urljoin(url, gd__url)
                gd_urls = get_four(gd__url)
                for i in gd_urls:
                    list_urls_all.add(i)
        else:
            list_urls_all.add(url)
    return list_urls_all


def get_four(url):
    print('get_four',url)
    res = proxies_get_url_except(url, headers,status=[200,404])
    res = etree.HTML(res.text)
    list_urls = res.xpath('//*[@class="navbar navbar-default"]//a/@href')
    if list_urls:
        return list_urls
    else:
        return [url]


def run():
    list_urls_alls = get_two()
    # list_urls_alls ={'http://quote.eastmoney.com/center/gridlist2.html#futures_115_22', 'http://data.eastmoney.com/tf/tf.html', 'http://auto.eastmoney.com/a/cqft.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=P', 'http://stock.eastmoney.com/news/cqzdt.html', 'http://futures.eastmoney.com/news/azxd.html', 'http://quote.eastmoney.com/center/america.html#america_3', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=EB', 'http://forex.eastmoney.com/a/cwhlczx.html', 'http://futures.eastmoney.com/news/axjpl.html', 'http://quote.eastmoney.com/qihuo/PM103.html', 'http://data.eastmoney.com/cjsj/foreign_0_0.html', 'http://data.eastmoney.com/money/calc/BondGZWin.html', 'http://finance.eastmoney.com/a/cfxtz.html', 'http://stock.eastmoney.com/news/cgsyj.html', 'http://jigou.eastmoney.com/futures.html', 'http://biz.eastmoney.com/a/cyx.html', 'http://futures.eastmoney.com/a/cncpzx.html', 'http://quote.eastmoney.com/center/futures.html#_5', 'http://finance.eastmoney.com/a/czsdc.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_8', 'http://quote.eastmoney.com/center/zqsc.html', 'http://futures.eastmoney.com/news/ajdpl.html', 'http://biz.eastmoney.com/a/csyzx.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=HC', 'http://mingjia.eastmoney.com/Bond.html', 'http://stock.eastmoney.com/a/cbgdd.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_7', 'http://data.eastmoney.com/report/macresearch.jshtml', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_4', 'http://stock.eastmoney.com/profitforecast.jshtml', 'http://data.eastmoney.com/shibor/default.html', 'http://quote.eastmoney.com/center/europe.html#europe_3', 'http://futures.eastmoney.com/news/cqspl.html', 'http://futures.eastmoney.com/a/cgzqhzx.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=J', 'http://futures.eastmoney.com/news/atkspl.html', 'http://quote.eastmoney.com/qihuo/a2101.html', 'http://quote.eastmoney.com/center/gridlist.html#futures_cffex-_TF', 'http://data.eastmoney.com/futures/sh/data.html', 'http://hk.eastmoney.com/notice.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=OI', 'http://quote.eastmoney.com/center/list.html#_0_2', 'http://topic.eastmoney.com/licai.html', 'http://futures.eastmoney.com/news/aymdfpl.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_6', 'http://stock.eastmoney.com/news/czrzdt.html', 'http://hk.eastmoney.com/news/cggyj.html', 'http://finance.eastmoney.com/pinglun.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=SN', 'http://quote.eastmoney.com/qihuo/l2101.html', 'http://futures.eastmoney.com/news/agc.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=V', 'http://data.eastmoney.com/IF/Data/Contract.html?va=IF', 'http://data.eastmoney.com/ifdata/kcsj.html', 'http://futures.eastmoney.com/news/apgpl.html', 'http://futures.eastmoney.com/news/adlm.html', 'http://option.eastmoney.com/a/cqqyw.html', 'http://fund.eastmoney.com/topic/#000', 'http://futures.eastmoney.com/news/alupl.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_15', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=SM', 'http://video.eastmoney.com/news/ccfgc.html', 'http://finance.eastmoney.com/a/chgyj.html', 'http://finance.eastmoney.com/news/cgsxw.html', 'http://guba.eastmoney.com/list,ufNYBOTSBC.html', 'http://guba.eastmoney.com/list,xintuo.html', 'http://futures.eastmoney.com/news/abypl.html', 'http://quote.eastmoney.com/center/gridlist.html#options_sz50etf_txbj', 'http://data.eastmoney.com/notices/zq.html', 'http://quote.eastmoney.com/qihuo/ni2010.html', 'http://auto.eastmoney.com/a/chyxw.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_12', 'http://stock.eastmoney.com/a/cchjy.html', 'http://data.eastmoney.com/report/industry.jshtml', 'http://stock.eastmoney.com/a/cbgzs.html', 'http://futures.eastmoney.com/news/ayccz.html', 'http://quote.eastmoney.com/qihuo/eg2101.html', 'http://stock.eastmoney.com/gzqh.html#500', 'http://stock.eastmoney.com/news/cfzjy.html', 'http://quote.eastmoney.com/center/list.html#28003547_0_2', 'http://stock.eastmoney.com/news/cmggs.html', 'http://data.eastmoney.com/report/hyyb.html', 'http://stock.eastmoney.com/news/cmgdd.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=PP', 'http://futures.eastmoney.com/news/asa.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_10', 'http://data.eastmoney.com/other/gkzf.html', 'http://money.eastmoney.com/', 'http://quote.eastmoney.com/qihuo/rb2010.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=BU', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=RR', 'http://futures.eastmoney.com/news/al.html', 'http://fund.eastmoney.com/ZQ_dwjz.html', 'http://stock.eastmoney.com/a/cscsj.html', 'http://data.eastmoney.com/notice/', 'http://futures.eastmoney.com/news/azly.html', 'http://money.eastmoney.com/a/csczx.html', 'http://finance.eastmoney.com/yaowen.html', 'http://quote.eastmoney.com/center/global.html#global_3', 'http://futures.eastmoney.com/news/abt.html', 'http://hk.eastmoney.com/a/cgsbd.html', 'http://futures.eastmoney.com/news/at.html', 'http://global.eastmoney.com/news/cqtsc.html', 'http://futures.eastmoney.com/news/aqpl.html', 'http://futures.eastmoney.com/news/ahj.html', 'http://hk.eastmoney.com/news/cahgdt.html', 'http://group.eastmoney.com/CombinSearch.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=NI', 'http://stock.eastmoney.com/a/ccybxt.html', 'http://data.eastmoney.com/xg/xg/default.html?stat=3', 'http://futures.eastmoney.com/news/asp.html', 'http://futures.eastmoney.com/news/alr.html', 'http://quote.eastmoney.com/qihuo/RS009.html', 'http://biz.eastmoney.com/a/crwz.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_11', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=AP', 'http://stock.eastmoney.com/news/czrzgsyw.html', 'http://biz.eastmoney.com/a/cgl.html', 'http://edu.18.cn/', 'http://stock.eastmoney.com/gzqh.html', 'http://data.eastmoney.com/cjsj/hyzs_EMI00662535.html', 'http://finance.eastmoney.com/news/czqyw.html', 'http://data.eastmoney.com/other/valueAnal.html', 'http://hy.eastmoney.com/zhuanti/OilFuture/', 'http://futures.eastmoney.com/news/ajcpl.html', 'http://guba.eastmoney.com/list,ufCOBOTZC00Y.html', 'http://stock.eastmoney.com/a/ckcbdd.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=PG', 'http://finance.eastmoney.com/news/csygc.html', 'http://quote.eastmoney.com/center/asia.html#asia_3', 'http://bank.eastmoney.com/a/clccp.html', 'http://futures.eastmoney.com/news/asn.html', 'http://data.eastmoney.com/report/profitforecast.jshtml', 'http://quote.eastmoney.com/center/gridlist.html#ab_comparison_sz', 'http://data.eastmoney.com/kzz/default.html', 'http://quote.eastmoney.com/center/forex.html#_6', 'http://data.eastmoney.com/other/premium.html', 'http://stock.eastmoney.com/a/ccybjygkxx.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=JR', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=SP', 'http://finance.eastmoney.com/news/ccyts.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_142_2', 'http://trust.eastmoney.com/a/cdh.html', 'http://futures.eastmoney.com/a/czhzx.html', 'http://quote.eastmoney.com/qihuo/j2101.html', 'http://quote.eastmoney.com/qihuo/TA101.html', 'http://quote.eastmoney.com/qihuo/jm2009.html', 'http://quote.eastmoney.com/qihuo/cu2010.html', 'http://hk.eastmoney.com/hold.html', 'http://stock.eastmoney.com/a/cgmjj.html', 'http://trust.eastmoney.com/a/cxtxy.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=V', 'http://finance.eastmoney.com/a/csygc.html', 'http://gold.eastmoney.com/pz/chjxh.html', 'http://futures.eastmoney.com/news/arly.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_14', 'http://bond.eastmoney.com/a/cyhjzsps.html', 'http://futures.eastmoney.com/news/ax.html', 'http://renwu.eastmoney.com/List/4', 'http://gold.eastmoney.com/a/chjkt.html', 'http://stock.eastmoney.com/news/cmgxt.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=FU', 'http://quote.eastmoney.com/qihuo/JR009.html', 'http://stock.eastmoney.com/news/chygdp.html', 'http://quote.eastmoney.com/zixuan/?from=center', 'http://futures.eastmoney.com/news/asspl.html', 'http://futures.eastmoney.com/news/aeg.html', 'http://guba.eastmoney.com/list,licai.html', 'http://stock.eastmoney.com/news/czrzdd.html', 'http://jigou.eastmoney.com/HongKong', 'http://money.eastmoney.com/a/cyhlc.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=CS', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=M', 'http://futures.eastmoney.com/news/adl.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_6', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=BU', 'http://stock.eastmoney.com/xuexiao.html?id=kcb', 'http://hk.eastmoney.com/buyback.html', 'http://futures.eastmoney.com/a/cqspl.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=L', 'http://data.eastmoney.com/cjsj/foreign_0_2.html', 'http://guba.eastmoney.com/list,ufCOBOTZL00Y.html', 'http://jigou.eastmoney.com/hongkong', 'http://mingjia.eastmoney.com/futures.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_10', 'http://trust.eastmoney.com/a/cjggd.html', 'http://data.eastmoney.com/cjrl/default.html', 'http://guba.eastmoney.com/list,ufLMELZNT.html', 'http://money.eastmoney.com/a/cbxlc.html', 'http://finance.eastmoney.com/yaowen_cgjjj.html', 'http://gold.eastmoney.com/help/default.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_19', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_6', 'http://quote.eastmoney.com/qihuo/sp2012.html', 'http://gold.eastmoney.com/a/chjyw.html', 'http://bank.eastmoney.com/a/czzyh.html', 'http://futures.eastmoney.com/news/azlypl.html', 'http://gb.eastmoney.com/topic,xg.html', 'http://quote.eastmoney.com/center/GlodList.html#shhjxh_7', 'http://quote.eastmoney.com/qihuo/eb2009.html', 'http://stock.eastmoney.com/news/cscyw.html', 'http://data.eastmoney.com/cjsj/foreign_8_0.html', 'http://quote.eastmoney.com/qihuo/pg2011.html', 'http://quote.eastmoney.com/qihuo/FG101.html', 'http://finance.eastmoney.com/yaowen_cgnjj.html', 'http://futures.eastmoney.com/news/alrpl.html', 'http://stock.eastmoney.com/a/cbxzj.html', 'http://futures.eastmoney.com/news/cnpbb.html', 'http://bank.eastmoney.com/a/cyhxx.html', 'http://data.eastmoney.com/report/newstock.jshtml', 'http://stock.eastmoney.com/news/cbktt.html', 'http://finance.eastmoney.com/a/crdsm.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_16', 'http://quote.eastmoney.com/qihuo/v2101.html', 'http://data.eastmoney.com/gsrl/default.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001016&va=NR', 'http://stock.eastmoney.com/news/cscsj.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=SS', 'http://quote.eastmoney.com/qihuo/OI101.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=A', 'http://stock.eastmoney.com/a/cscjh.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_19', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=Y', 'http://bond.eastmoney.com/a/cjyszsps.html', 'http://option.eastmoney.com/news/cqqpl.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_1', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=Y', 'http://stock.eastmoney.com/news/cggdd.html', 'http://futures.eastmoney.com/news/cjdgc.html', 'http://gold.eastmoney.com/a/cjspl.html', 'http://finance.eastmoney.com/yaowen_cgsxw.html', 'http://caifuhao.eastmoney.com/hot', 'http://guba.eastmoney.com/list,ufCOMEXSI00Y.html', 'http://stock.eastmoney.com/news/czsfx.html', 'http://bond.eastmoney.com/a/czsfx.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=AU', 'http://finance.eastmoney.com/news/cjjxr.html', 'http://quote.eastmoney.com/qihuo/sn2010.html', 'http://insurance.eastmoney.com/a/cbxxx.html', 'http://quote.eastmoney.com/center/qqsc.html', 'http://futures.eastmoney.com/news/anr.html', 'http://forex.eastmoney.com/a/cwhtzkt.html', 'http://futures.eastmoney.com/news/apta.html', 'http://futures.eastmoney.com/news/amg.html', 'http://insurance.eastmoney.com/a/cbxsj.html', 'http://gold.eastmoney.com/news/cjspl.html', 'http://money.eastmoney.com/a/clczx.html', 'http://guba.eastmoney.com/list,zssh000003.html', 'http://money.eastmoney.com/a/clcal.html', 'http://quote.eastmoney.com/qihuo/ZC011.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=HC', 'http://gold.eastmoney.com/pz/chjtd.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=AG', 'http://auto.eastmoney.com/a/cdg.html', 'http://guba.eastmoney.com/list,159915.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=C', 'http://futures.eastmoney.com/news/ablpl.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_7', 'http://futures.eastmoney.com/gold.html', 'http://mingjia.eastmoney.com/fund', 'http://guba.eastmoney.com/list,ufLMELCPT.html', 'http://jigou.eastmoney.com/Bond.html', 'http://renwu.eastmoney.com/List/3', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=P', 'http://data.eastmoney.com/zrz/pg.html', 'http://data.eastmoney.com/other/qqlhb.html', 'http://data.eastmoney.com/xuangu/', 'http://guba.eastmoney.com/list,ufLMELNKT.html', 'http://futures.eastmoney.com/a/cjsgjs.html', 'http://stock.eastmoney.com/a/cbkjj.html', 'http://data.eastmoney.com/report/strategyreport.jshtml', 'http://futures.eastmoney.com/news/ajmpl.html', 'http://futures.eastmoney.com/news/aap.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=SA', 'http://quote.eastmoney.com/center/australia.html#australia_3', 'http://quote.eastmoney.com/center/gridlist.html#hkah_comparison', 'http://guba.eastmoney.com/list,qq.html', 'http://futures.eastmoney.com/news/aczp.html', 'http://www.eastmoney.com', 'http://guba.eastmoney.com/list,zsgjudi.html', 'http://stock.eastmoney.com/a/cdpfx.html', 'http://futures.eastmoney.com/news/anipl.html', 'http://jigou.eastmoney.com/futures', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_17', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=SA', 'http://quote.eastmoney.com/center/gridlist.html#futures_cffex-_T', 'http://data.eastmoney.com/xg/gh/default.html', 'http://quote.eastmoney.com/center/list.html#50_1', 'http://stock.eastmoney.com/a/czggng.html', 'http://data.eastmoney.com/stock/lhb.html', 'http://futures.eastmoney.com/news/arrpl.html', 'http://hk.eastmoney.com/sellshort.html', 'http://renwu.eastmoney.com/List/1', 'http://stock.eastmoney.com/industry.jshtml', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=RB', 'http://option.eastmoney.com/a/cqqdd.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_15', 'http://futures.eastmoney.com/news/ajbxpl.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=UR', 'http://hk.eastmoney.com/news/cggyw.html', 'http://option.eastmoney.com/a/cqqfg.html', 'http://stock.eastmoney.com/shichang.html', 'http://fund.eastmoney.com/', 'http://futures.eastmoney.com/news/amhpl.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=ZN', 'http://money.eastmoney.com/a/clcdd.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_142_3', 'http://futures.eastmoney.com/a/csqszx.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=C', 'http://quote.eastmoney.com/center/list.html#28003611_0_2', 'http://futures.eastmoney.com/news/ajc.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=M', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=SP', 'http://futures.eastmoney.com/bond.html', 'http://futures.eastmoney.com/news/arr.html', 'http://futures.eastmoney.com/news/ajrpl.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_3', 'http://gold.eastmoney.com/news/chjdd.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_14', 'http://bond.eastmoney.com/a/czqjj.html', 'http://gold.eastmoney.com/a/czbss.html', 'http://quote.eastmoney.com/qihuo/LR011.html', 'http://auto.eastmoney.com/a/chq.html', 'http://stock.eastmoney.com/news/cwjkx.html', 'http://data.eastmoney.com/cjsj/globalRate.html', 'http://stock.eastmoney.com/brokerreport.jshtml', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=NI', 'http://hk.eastmoney.com/a/cwozx.html', 'http://futures.eastmoney.com/news/axwb.html', 'http://stock.eastmoney.com/news/cxgcl.html', 'http://guba.eastmoney.com/list,ufLMELALT.html', 'http://data.eastmoney.com/notices/kcb.html', 'http://bond.eastmoney.com/a/czqxw.html', 'http://stock.eastmoney.com/macresearch.jshtml', 'http://stock.eastmoney.com/news/cmgpl.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_5', 'http://stock.eastmoney.com/a/cqsxt.html', 'http://futures.eastmoney.com/news/aycczpl.html', 'http://quote.eastmoney.com/center/gridlist.html#bond_enterprise_sh', 'http://bank.eastmoney.com/a/cyhrw.html', 'http://topic.eastmoney.com/cfgchz/', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_9', 'http://group.eastmoney.com/MasterOpera.html', 'http://futures.eastmoney.com/news/aymdf.html', 'http://finance.eastmoney.com/news/ccjsj.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=CU', 'http://stock.eastmoney.com/bidu.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113', 'http://futures.eastmoney.com/news/aeb.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=PB', 'http://hk.eastmoney.com/news/cgsbd.html', 'http://video.eastmoney.com/news/cjcsj.html', 'http://stock.eastmoney.com/gzqh.html#300', 'http://renwu.eastmoney.com/', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=TA', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=B', 'http://futures.eastmoney.com/news/adypl.html', 'http://futures.eastmoney.com/news/acj.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_16', 'http://finance.eastmoney.com/news/cpljh.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_10', 'http://gold.eastmoney.com/news/chjyw.html', 'http://futures.eastmoney.com/news/ajd.html', 'http://quote.eastmoney.com/center/hkstock.html#_1', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=WH', 'http://quote.eastmoney.com/center/boardlist.html#region_board', 'http://futures.eastmoney.com/a/cjyjq.html', 'http://guba.eastmoney.com/list,gzqh.html', 'http://guba.eastmoney.com/list,ufCOMEXGC00Y.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=AU', 'http://data.eastmoney.com/other/dxzf.html', 'http://money.eastmoney.com/a/cjuzx.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=SF', 'http://futures.eastmoney.com/news/arlypl.html', 'http://stock.eastmoney.com/a/czldd.html', 'http://video.eastmoney.com/', 'http://stock.eastmoney.com/news/cxgpl.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_18', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=B', 'http://finance.eastmoney.com/', 'http://stock.eastmoney.com/a/cbgdt.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_9', 'http://bank.eastmoney.com/a/cyhdd.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_13', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=RB', 'http://quote.eastmoney.com/center/usstock.html#_2', 'http://auto.eastmoney.com/a/cqcr.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_11', 'http://data.eastmoney.com/cjsj/cpi.html', 'http://stock.eastmoney.com/chuangyeban.html', 'http://global.eastmoney.com/a/cqqdd.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_7', 'http://data.eastmoney.com/center/', 'http://quote.eastmoney.com/qihuo/b2010.html', 'http://topic.eastmoney.com/zhengquan.html', 'http://futures.eastmoney.com/news/cwpsd.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=RU', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=SN', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_13', 'http://insurance.eastmoney.com/a/cplyj.html', 'http://futures.eastmoney.com/news/adppl.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=FG', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_2', 'http://futures.eastmoney.com/news/aurpl.html', 'http://hk.eastmoney.com/a/cggdd.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=FU', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_16', 'http://insurance.eastmoney.com/a/cgsxw.html', 'http://enterprise.eastmoney.com/a/cctyj.html', 'http://futures.eastmoney.com/news/axm.html', 'http://stock.eastmoney.com/strategyreport.jshtml', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_3', 'http://futures.eastmoney.com/news/asylq.html', 'http://trust.eastmoney.com/a/ccpzx.html', 'http://stock.eastmoney.com/a/cyzsm.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_5', 'http://stock.eastmoney.com/news/chyyj.html', 'http://trust.eastmoney.com/a/cxtjd.html', 'http://quote.eastmoney.com/center/gridlist.html#futures_global', 'http://stock.eastmoney.com/news/czggng.html', 'http://data.eastmoney.com/notice/sh.html', 'http://finance.eastmoney.com/news/cgjjj.html', 'http://quote.eastmoney.com/qihuo/nr2010.html', 'http://futures.eastmoney.com/news/agt.html', 'http://futures.eastmoney.com/news/acypl.html', 'http://futures.eastmoney.com/news/ajbx.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=LR', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=SM', 'http://topic.eastmoney.com/AllList.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=PB', 'http://trust.eastmoney.com/a/czjzl.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=PG', 'http://stock.eastmoney.com/news/chydd.html', 'http://quote.eastmoney.com/center/gold.html#_7', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=EG', 'http://futures.eastmoney.com/a/cqsgw.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=EB', 'http://futures.eastmoney.com/news/aegpl.html', 'http://futures.eastmoney.com/a/cqsyw.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=I', 'http://enterprise.eastmoney.com/a/ccyzx.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=CJ', 'http://futures.eastmoney.com/news/axmpl.html', 'http://finance.eastmoney.com/news/ccjxw.html', 'http://stock.eastmoney.com', 'http://guba.eastmoney.com/list,ufNYMEXCL00Y.html', 'http://insurance.eastmoney.com/a/cbxwht.html', 'http://data.eastmoney.com/futures/dl/data.html', 'http://guba.eastmoney.com/list,kcb.html', 'http://futures.eastmoney.com/news/ajt.html', 'http://forex.eastmoney.com/a/cdhgd.html', 'http://finance.eastmoney.com/news/czsdc.html', 'http://quote.eastmoney.com/qihuo/c2101.html', 'http://guba.eastmoney.com/list,ufCOBOTZW00Y.html', 'http://futures.eastmoney.com/a/cwpsd.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_17', 'http://futures.eastmoney.com/news/axpl.html', 'http://finance.eastmoney.com/a/cssgs.html', 'http://quote.eastmoney.com/center/list.html#2850020_8', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=L', 'http://bond.eastmoney.com/a/chwzsps.html', 'http://insurance.eastmoney.com/a/chwdt.html', 'http://auto.eastmoney.com/a/cpl.html', 'http://finance.eastmoney.com/news/ccyjj.html', 'http://trust.eastmoney.com/a/cxtgs.html', 'http://futures.eastmoney.com/news/aq.html', 'http://stock.eastmoney.com/stock.jshtml', 'http://finance.eastmoney.com/a/ccjxw.html', 'http://jigou.eastmoney.com/stock.html', 'http://futures.eastmoney.com/news/asylqpl.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=AL', 'http://quote.eastmoney.com/qihuo/CJ009.html', 'http://topic.eastmoney.com/', 'http://futures.eastmoney.com/news/acjpl.html', 'http://futures.eastmoney.com/news/aappl.html', 'http://quote.eastmoney.com/center/list.html#rmbxj_6_2', 'http://money.eastmoney.com/a/cfczy.html', 'http://futures.eastmoney.com/news/adlpl.html', 'http://data.eastmoney.com/xg/xg/default.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=CF', 'http://futures.eastmoney.com/news/aczppl.html', 'http://futures.eastmoney.com/news/asnpl.html', 'http://futures.eastmoney.com/news/ani.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=I', 'http://insurance.eastmoney.com/a/chyzx.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=CS', 'http://stock.eastmoney.com/news/cjyts.html', 'http://futures.eastmoney.com/news/arzjb.html', 'http://futures.eastmoney.com/news/alpl.html', 'http://stock.eastmoney.com/a/czlcc.html', 'http://futures.eastmoney.com/a/cnyhgx.html', 'http://data.eastmoney.com/invest/invest/default.html', 'http://quote.eastmoney.com/qihuo/ss2010.html', 'http://futures.eastmoney.com/news/azxdpl.html', 'http://enterprise.eastmoney.com/a/ccyyj.html', 'http://enterprise.eastmoney.com/a/cfxtz.html', 'http://finance.eastmoney.com/news/cgspl.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=RS', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_11', 'http://jigou.eastmoney.com/stock', 'http://futures.eastmoney.com/news/ass.html', 'http://futures.eastmoney.com/news/ajm.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=LR', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_12', 'http://stock.eastmoney.com/a/czlls.html', 'http://futures.eastmoney.com/a/cgzqhfg.html', 'http://data.eastmoney.com/xg/kzz/default.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_2', 'http://qqmoni.eastmoney.com/', 'http://hk.eastmoney.com/rating.html', 'http://stock.eastmoney.com/a/cqfii.html', 'http://group.eastmoney.com/mcombin,10001.html', 'http://stock.eastmoney.com/newstock.html', 'http://stock.eastmoney.com/america.html', 'http://forex.eastmoney.com/a/chbzx.html', 'http://data.eastmoney.com/gsrl/zfpg.html', 'http://quote.eastmoney.com/qihuo/SF010.html', 'http://futures.eastmoney.com/news/amh.html', 'http://futures.eastmoney.com/a/cgzqhdd.html', 'http://quote.eastmoney.com/qihuo/y2101.html', 'http://caifuhao.eastmoney.com/hot/stock', 'http://bank.eastmoney.com/a/cplyj.html', 'http://stock.eastmoney.com/news/cyzbw.html', 'http://quote.eastmoney.com/qihuo/ag2012.html', 'http://futures.eastmoney.com/a/czjszx.html', 'http://data.eastmoney.com/report/brokerreport.jshtml', 'http://option.eastmoney.com/a/cqqgg.html', 'http://quote.eastmoney.com/qihuo/pp2101.html', 'http://forex.eastmoney.com/a/cyhdt.html', 'http://finance.eastmoney.com/a/czqyw.html', 'http://futures.eastmoney.com/a/cjdgc.html', 'http://data.eastmoney.com/xg/xg/sbqy.html', 'http://biz.eastmoney.com/a/csybd.html', 'http://data.eastmoney.com/xg/xg/calendar.html', 'http://forex.eastmoney.com/a/cwhdd.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_4', 'http://stock.eastmoney.com/news/cqzdd.html', 'http://quote.eastmoney.com/qihuo/bu2012.html', 'http://quote.eastmoney.com/qihuo/AP010.html', 'http://stock.eastmoney.com/news/cggdj.html', 'http://stock.eastmoney.com/gegu.html', 'http://option.eastmoney.com/a/cqqpl.html', 'http://futures.eastmoney.com/news/axwbpl.html', 'http://quote.eastmoney.com/qihuo/CF101.html', 'http://futures.eastmoney.com/news/ahjpl.html', 'http://forex.eastmoney.com/a/cjjsj.html', 'http://stock.eastmoney.com/news/czrzfx.html', 'http://futures.eastmoney.com/news/adlmpl.html', 'http://finance.eastmoney.com/news/ccjdd.html', 'http://futures.eastmoney.com/news/apvcpl.html', 'http://quote.eastmoney.com/qihuo/pb2009.html', 'http://data.eastmoney.com/other/riskanal.html', 'http://quote.eastmoney.com/qihuo/m2101.html', 'http://finance.eastmoney.com/news/cgnjj.html', 'http://data.eastmoney.com/rzrq/bk.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_20', 'http://futures.eastmoney.com/news/aycz.html', 'http://quote.eastmoney.com/qihuo/fu2101.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_18', 'http://futures.eastmoney.com/a/cgzqhpl.html', 'http://hk.eastmoney.com/news/cwozx.html', 'http://data.eastmoney.com/report/stock.jshtml', 'http://quote.eastmoney.com/qihuo/ru2101.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=FB', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_1', 'http://topic.eastmoney.com/huiyi.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_13', 'http://stock.eastmoney.com/a/cgszb.html', 'http://bond.eastmoney.com/a/agzpl.html', 'http://data.eastmoney.com/dzjy/default.html', 'http://quote.eastmoney.com/qihuo/rr2010.html', 'http://insurance.eastmoney.com/a/cbxal.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=CF', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=RR', 'http://option.eastmoney.com/a/cqqyj.html', 'http://data.eastmoney.com/bkzj/hy.html', 'http://futures.eastmoney.com/a/cjczs.html', 'http://futures.eastmoney.com/a/cdsszx.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_2', 'http://quote.eastmoney.com/center/list.html#52_1', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=AG', 'http://topic.eastmoney.com/hongguan.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115', 'http://stock.eastmoney.com/news/cgspj.html', 'http://futures.eastmoney.com/news/alldpe.html', 'http://data.eastmoney.com/notices/cyb.html', 'http://futures.eastmoney.com/news/ajtpl.html', 'http://futures.eastmoney.com/news/ayczpl.html', 'http://quote.eastmoney.com/center/list.html#gjqh_5', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001016&va=LU', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_8', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001007&va=EG', 'http://stock.eastmoney.com/news/cmgyw.html', 'http://futures.eastmoney.com/news/asapl.html', 'http://group.eastmoney.com/OperatLog.html', 'http://stock.eastmoney.com/a/csccl.html', 'http://stock.eastmoney.com/news/cqzpl.html', 'http://jigou.eastmoney.com/money', 'http://js1.eastmoney.com/tg.aspx?ID=3492', 'http://renwu.eastmoney.com/List/2', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=UR', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_1', 'http://data.eastmoney.com/ifdata/jcjz.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=JD', 'http://stock.eastmoney.com/a/ccybdd.html', 'http://hk.eastmoney.com/news/chqsckx.html', 'http://quote.eastmoney.com/center/gridlist.html#futures_cffex-_TS', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_20', 'http://money.eastmoney.com/a/clcdrx.html', 'http://mingjia.eastmoney.com/stock.html', 'http://bank.eastmoney.com/a/cyhyjh.html', 'http://futures.eastmoney.com/news/arzjbpl.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=PP', 'http://group.eastmoney.com/mcombin.html', 'http://stock.eastmoney.com/xuexiao.html', 'http://option.eastmoney.com/a/cqqxx.html', 'http://futures.eastmoney.com/news/abl.html', 'http://quote.eastmoney.com/center/list.html#28CHINA_2', 'http://quote.eastmoney.com/center/adrlist.html#adr_1', 'http://futures.eastmoney.com/news/agcpl.html', 'http://xinsanban.eastmoney.com/', 'http://data.eastmoney.com/report/option.html', 'http://quote.eastmoney.com/center/list.html#28MK0001_2', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=MA', 'http://futures.eastmoney.com/news/asppl.html', 'http://insurance.eastmoney.com/a/csbyd.html', 'http://video.eastmoney.com/a/ccfgc.html', 'http://futures.eastmoney.com/news/aebpl.html', 'http://hk.eastmoney.com/news/cggdd.html', 'http://quote.eastmoney.com/qihuo/zn2009.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=AP', 'http://guba.eastmoney.com/list,ufLMELTNT.html', 'http://stock.eastmoney.com/news/cxgyw.html', 'http://stock.eastmoney.com/a/czljh.html', 'http://stock.eastmoney.com/newstock.jshtml', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=AL', 'http://futures.eastmoney.com/news/ajhb.html', 'http://group.eastmoney.com/CombinComment.html', 'http://stock.eastmoney.com/news/cggjh.html', 'http://stock.eastmoney.com/', 'http://futures.eastmoney.com/news/atpl.html', 'http://futures.eastmoney.com/silver.html', 'http://mingjia.eastmoney.com/stock', 'http://bank.eastmoney.com/a/cwzyh.html', 'http://stock.eastmoney.com/a/cbggs.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_4', 'http://bond.eastmoney.com/a/czqgg.html', 'http://stock.eastmoney.com/news/cjgrp.html', 'http://quote.eastmoney.com/qihuo/UR101.html', 'http://mingjia.eastmoney.com/bond', 'http://hk.eastmoney.com/news/cggxx.html', 'http://quote.eastmoney.com/qihuo/wr2010.html', 'http://futures.eastmoney.com/news/aympl.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=ZC', 'http://quote.eastmoney.com/center/gridlist.html#ab_comparison_sh', 'http://auto.eastmoney.com/a/ccp.html', 'http://quote.eastmoney.com/qihuo/jd2010.html', 'http://topic.eastmoney.com/mobilezhibo.html', 'http://guba.eastmoney.com/list,ufIPEBC.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_9', 'http://quote.eastmoney.com/center/list.html#mk0144_12', 'http://forex.eastmoney.com/a/cwhxw.html', 'http://option.eastmoney.com/news/cqqdd.html', 'http://quote.eastmoney.com/qihuo/cs2009.html', 'http://guba.eastmoney.com/list,chuangye.html', 'http://futures.eastmoney.com/news/ajr.html', 'http://futures.eastmoney.com/a/cgzqhzs.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=A', 'http://media.eastmoney.com/zazhi', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_15', 'http://gold.eastmoney.com/news/czbss.html', 'http://gold.eastmoney.com/pz/czhj.html', 'http://stock.eastmoney.com/news/chstpyl.html', 'http://guba.eastmoney.com/list,ufTOCOMJRUC.html', 'http://finance.eastmoney.com/yaowen_czqyw.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=SR', 'http://jigou.eastmoney.com/bond', 'http://futures.eastmoney.com/news/apvc.html', 'http://quote.eastmoney.com/qihuo/al2009.html', 'http://futures.eastmoney.com/news/cqsyw.html', 'http://futures.eastmoney.com/news/agtpl.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=TA', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_3', 'http://quote.eastmoney.com/center/gridlist2.html#futures_114_14', 'http://quote.eastmoney.com/qihuo/hc2010.html', 'http://futures.eastmoney.com/news/axj.html', 'http://quote.eastmoney.com/center/gridlist.html#bond_enterprise_sz', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=CY', 'http://insurance.eastmoney.com/a/cjgdt.html', 'http://trust.eastmoney.com/a/cxtcd.html', 'http://quote.eastmoney.com/center/boardlist.html#industry_board', 'http://quote.eastmoney.com/center/futurelist.html#1,7,1_7', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=CJ', 'http://bond.eastmoney.com/a/agzgg.html', 'http://data.eastmoney.com/zlsj/', 'http://option.eastmoney.com/news/cqqxx.html', 'http://data.eastmoney.com/kcb/', 'http://quote.eastmoney.com/center/gridlist2.html#futures_113_5', 'http://topic.eastmoney.com/chanjing.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=RM', 'http://quote.eastmoney.com/qihuo/RI009.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=MA', 'http://quote.eastmoney.com/qihuo/CY101.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001005&va=CU', 'http://jigou.eastmoney.com/simu', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_21', 'http://data.eastmoney.com/money/calc/ForexExchange.html', 'http://stock.eastmoney.com/zairongzi.html', 'http://quote.eastmoney.com/qihuo/i2101.html', 'http://stock.eastmoney.com/a/ccybpl.html', 'http://finance.eastmoney.com/yaowen_cywjh.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=SR', 'http://quote.eastmoney.com/qihuo/WH009.html', 'http://finance.eastmoney.com/news/chgyj.html', 'http://quote.eastmoney.com/qihuo/MA101.html', 'http://data.eastmoney.com/ifdata/kcsj.html?ex=069001008&va=RM', 'http://quote.eastmoney.com/qihuo/bb2009.html', 'http://data.eastmoney.com/zrz/dxzf.html', 'http://quote.eastmoney.com/qihuo/SR101.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=ZN', 'http://stock.eastmoney.com/gzqh.html#50', 'http://stock.eastmoney.com/hangye.html', 'http://futures.eastmoney.com/news/ajhbpl.html', 'http://guba.eastmoney.com/list,waihui.html', 'http://stock.eastmoney.com/a/ccybgsxw.html', 'http://futures.eastmoney.com/news/aby.html', 'http://hk.eastmoney.com/news/csckx.html', 'http://data.eastmoney.com/zjlx/dpzjlx.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=FG', 'http://futures.eastmoney.com/news/aptapl.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_115_8', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=OI', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001007&va=JM', 'http://futures.eastmoney.com/a/cqsfg.html', 'http://quote.eastmoney.com/qihuo/fb2009.html', 'http://futures.eastmoney.com/news/apg.html', 'http://quote.eastmoney.com/qihuo/SA101.html', 'http://bond.eastmoney.com/a/agzxw.html', 'http://quote.eastmoney.com/qihuo/SM009.html', 'http://quote.eastmoney.com/center/list.html#28CHINAINTERNET_2', 'http://mingjia.eastmoney.com/futures', 'http://futures.eastmoney.com/news/aym.html', 'http://quote.eastmoney.com/qihuo/lu2101.html', 'http://fund.eastmoney.com/data/', 'http://guba.eastmoney.com/list,ufCOBOTZS00Y.html', 'http://futures.eastmoney.com/news/czhzx.html', 'http://forex.eastmoney.com/a/cwhpl.html', 'http://bank.eastmoney.com/a/cyhxd.html', 'http://stock.eastmoney.com/a/cmgpj.html', 'http://stock.eastmoney.com/a/csbjj.html', 'http://finance.eastmoney.com/news/cjjsp.html', 'http://quote.eastmoney.com/qihuo/au2012.html', 'http://global.eastmoney.com/news/cmgsc.html', 'http://data.eastmoney.com/money/calc/FuturesSoybean.html', 'http://futures.eastmoney.com/news/alu.html', 'http://futures.eastmoney.com/news/abtpl.html', 'http://i.eastmoney.com/stock.html', 'http://quote.eastmoney.com/center/gridlist.html#futures_cffex', 'http://futures.eastmoney.com/news/alldpepl.html', 'http://quote.eastmoney.com/qihuo/p2101.html', 'http://guba.eastmoney.com/topic,huangjin.html', 'http://data.eastmoney.com/rzrq/total.html', 'http://futures.eastmoney.com/news/aur.html', 'http://futures.eastmoney.com/news/cqhdd.html', 'http://futures.eastmoney.com/a/czsszx.html', 'http://futures.eastmoney.com/news/amgpl.html', 'http://guba.eastmoney.com/hk.html', 'http://stock.eastmoney.com/a/ccybdt.html', 'http://finance.eastmoney.com/news/czfgy.html', 'http://stock.eastmoney.com/zhuli.html', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001005&va=RU', 'http://stock.eastmoney.com/a/cbgsk.html', 'http://video.eastmoney.com/a/cjcsj.html', 'http://futures.eastmoney.com/news/atks.html', 'http://futures.eastmoney.com/news/acy.html', 'http://data.eastmoney.com/bbsj/', 'http://data.eastmoney.com/futures/sh/data.html?ex=069001008&va=SF', 'http://quote.eastmoney.com/center/boardlist.html#concept_board', 'http://guba.eastmoney.com/list,qh.html', 'http://stock.eastmoney.com/bgu.html', 'http://quote.eastmoney.com/qihuo/RM101.html', 'http://finance.eastmoney.com/company.html', 'http://hk.eastmoney.com/ipolist.html', 'http://caifuhao.eastmoney.com/hot/topic', 'http://futures.eastmoney.com/news/anrpl.html', 'http://quote.eastmoney.com/center/list.html#10_0_0_u?sortType=C&sortRule=-1', 'http://data.eastmoney.com/report/ylyc.html', 'http://option.eastmoney.com/news/cqqyw.html', 'http://quote.eastmoney.com/center/gridlist2.html#futures_142', 'http://quote.eastmoney.com/center/GlodList.html#gjgjsqh_7'}

    print(len(list_urls_alls))
    print(list_urls_alls)

    for url in list_urls_alls:
        with open('开始运行东财.txt','a') as f:
            f.write(url+'\n')
        # # # 中央教育部 中央文件
        sr.lpush("east_news:start_urls",
                 url
                 )
        os.system("scrapy crawl east_news")


if __name__ == '__main__':
    # reids_push_url
    # 创建StrictRedis对象，与redis服务器建立连接
    sr = StrictRedis(host=Redis_settings['host'], port=Redis_settings['port'],
                     password=Redis_settings['pwd'])
    crawl_count = 1
    filename = os.path.split(__file__)[-1].split(".")[0]
    while True:
        spns = ['xueqiu_people']
        for spn in spns:
            sr.set(spn + '_rotation_count', crawl_count)
        start_time = datetime.datetime.now().strftime('%Y-%m-%d')
        st = time.time()

        run()
        interval_time_aver = 6
        with open('round_log/{}.log'.format(filename), 'a') as f:
            end_date = datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S')
            spt = time.time() - st
            m, s = divmod(spt, 60)
            h, m = divmod(m, 60)
            spt_str = "%02d:%02d:%02d" % (h, m, s)
            log_info = {"name": filename, "end_date": end_date, "use_time": spt_str,"use_time_stamp":int(spt),"interval_time_aver":interval_time_aver}
            log_info = re.sub("'", '"', str(log_info))
            f.write(log_info + "\n")

        time.sleep(interval_time_aver)
        end_time = datetime.datetime.now().strftime('%Y-%m-%d')
        if start_time == end_time:
            crawl_count += 1
        else:
            crawl_count = 1
